<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application Helper</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
    <script type="text/javascript">
        function loading(event){
            console.log(event)
            // Prevent the form from submitting immediately
            event.preventDefault();
            // Show the loader
            document.getElementById("loader").style.display = "flex";
            // Submit the form manually
            document.getElementById("upload-form").submit();
        }
    </script>
    <style>
        #loader {
            position: fixed; /* Fixed to the screen */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: none; /* Use Flexbox to center the loader */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
            z-index: 9999; /* Make sure it appears on top */
        }
        #loader div {
            border: 16px solid #f3f3f3; /* Light grey */
            border-top: 16px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
            }
    </style>
<body>
    <div id="loader">
        <div></div>
    </div>
    <div class="container mt-5">
        <h1 class="text-center mb-4">GPT CV Helper - Adapt Your CV For Each Job</h1>
        <p>This tool helps you to adapt your CV to every job. 
        To use it, upload the job description and your entire work experience as .txt files, and hit "Review CV".
        
        The GPT will identify the five most important skills for the job, and tell you how well your CV scores for each skill.
        It will also make recommendations for how you can improve your CV to match the job description, and give you the opportunity
        to add more examples of your experience on the next page. 

        Finally, you'll be able to download your optimised CV.
        <div class="card mx-auto" style="max-width: 600px;">
            <div class="card-body">
                <form action="/candidate/upload"  id="upload-form" method="post" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="jobDescription" class="form-label">Job Description (.txt only)</label>
                        <input type="file" class="form-control" id="jobDescription" name="job_description" accept=".txt" required>
                    </div>
                    <div class="mb-3">
                        <label for="cvFile" class="form-label">Your CV (.txt only)</label>
                        <input type="file" class="form-control" id="cvFile" name="cv_file" accept=".txt" required>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary" onclick="loading(event);">Review CV</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- <footer class="text-center mt-5">
        <p>&copy; 2024 Job Helper | All Rights Reserved</p>
    </footer> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
